# ğŸš€ å¿«é€Ÿä¿®å¤æŒ‡å— - Electron Build é—®é¢˜

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### 1. âŒ Build ååº”ç”¨æ‰“ä¸å¼€
**åŸå› **: 
- ç¼ºå°‘ macOS å›¾æ ‡æ–‡ä»¶ (.icns)
- è·¯å¾„é…ç½®ä¸æ­£ç¡®
- ç¼ºå°‘å¿…è¦çš„æƒé™é…ç½®

**è§£å†³æ–¹æ¡ˆ**: âœ… å·²ä¿®å¤
- âœ… æ·»åŠ å›¾æ ‡ç”Ÿæˆè„šæœ¬
- âœ… ä¿®å¤ main.ts ä¸­çš„è·¯å¾„å¤„ç†
- âœ… æ›´æ–° entitlements.mac.plist æƒé™
- âœ… ä¼˜åŒ– package.json æ„å»ºé…ç½®

### 2. âŒ åº”ç”¨å›¾æ ‡ä¸æ˜¾ç¤º
**åŸå› **: Logo.png æœªè½¬æ¢ä¸º macOS æ‰€éœ€çš„ .icns æ ¼å¼

**è§£å†³æ–¹æ¡ˆ**: âœ… å·²ä¿®å¤
- âœ… åˆ›å»ºè‡ªåŠ¨åŒ–å›¾æ ‡ç”Ÿæˆè„šæœ¬
- âœ… æ”¯æŒä» Logo.png ç”Ÿæˆæ‰€æœ‰å°ºå¯¸
- âœ… è‡ªåŠ¨ç”Ÿæˆ .icns æ–‡ä»¶

---

## ğŸ¯ ç°åœ¨å¦‚ä½•æ„å»º

### æ–¹æ³• 1: ä¸€é”®æ„å»ºï¼ˆæ¨èï¼‰

```bash
cd /Users/sunminghao/Desktop/EvoLabeler/evolauncher-frontend/scripts
./build-app.sh
```

### æ–¹æ³• 2: æ‰‹åŠ¨æ„å»º

```bash
cd /Users/sunminghao/Desktop/EvoLabeler/evolauncher-frontend

# 1. ç”Ÿæˆå›¾æ ‡ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
cd scripts
./create-icons.sh
cd ..

# 2. æ„å»ºåº”ç”¨
npm run build:mac
```

---

## ğŸ“¦ æ„å»ºè¾“å‡ºä½ç½®

```
evolauncher-frontend/
â””â”€â”€ release/
    â”œâ”€â”€ EvoLabeler-1.0.0.dmg        â† å®‰è£…è¿™ä¸ª
    â”œâ”€â”€ EvoLabeler-1.0.0-mac.zip
    â””â”€â”€ mac/
        â””â”€â”€ EvoLabeler.app
```

---

## ğŸ”§ é¦–æ¬¡è¿è¡Œ

### å¦‚æœé‡åˆ°"æ— æ³•æ‰“å¼€"çš„è­¦å‘Šï¼š

**æ–¹æ³• 1: å³é”®æ‰“å¼€**
1. å³é”®ç‚¹å‡» EvoLabeler.app
2. é€‰æ‹©"æ‰“å¼€"
3. ç‚¹å‡»"æ‰“å¼€"æŒ‰é’®

**æ–¹æ³• 2: å‘½ä»¤è¡Œ**
```bash
xattr -cr /Applications/EvoLabeler.app
open /Applications/EvoLabeler.app
```

---

## ğŸ¨ æ›´æ”¹åº”ç”¨å›¾æ ‡

å¦‚æœä½ æƒ³ä½¿ç”¨ä¸åŒçš„å›¾æ ‡ï¼š

1. æ›¿æ¢ `dist/Logo.png` ä¸ºä½ çš„å›¾ç‰‡ï¼ˆå»ºè®® 1024x1024ï¼‰
2. è¿è¡Œï¼š
   ```bash
   cd scripts
   ./create-icons.sh
   ```
3. é‡æ–°æ„å»ºåº”ç”¨

---

## âœ¨ æ–°å¢æ–‡ä»¶

```
evolauncher-frontend/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ create-icons.sh      â† å›¾æ ‡ç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ build-app.sh         â† ä¸€é”®æ„å»ºè„šæœ¬
â”œâ”€â”€ build/
â”‚   â”œâ”€â”€ icon.icns            â† macOS å›¾æ ‡ï¼ˆå·²ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ icon.png             â† Linux å›¾æ ‡ï¼ˆå·²ç”Ÿæˆï¼‰
â”‚   â””â”€â”€ entitlements.mac.plist  â† æƒé™é…ç½®ï¼ˆå·²æ›´æ–°ï¼‰
â”œâ”€â”€ BUILD_GUIDE.md           â† è¯¦ç»†æ„å»ºæŒ‡å—
â””â”€â”€ QUICK_FIX.md            â† æœ¬æ–‡ä»¶
```

---

## ğŸ” éªŒè¯ä¿®å¤

### æ£€æŸ¥å›¾æ ‡æ˜¯å¦ç”Ÿæˆï¼š
```bash
ls -lh build/icon.icns
# åº”è¯¥æ˜¾ç¤ºçº¦ 2MB çš„æ–‡ä»¶
```

### æ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡®ï¼š
```bash
grep -A 3 '"mac":' package.json
# åº”è¯¥çœ‹åˆ° "icon": "build/icon.icns"
```

### æµ‹è¯•æ„å»ºï¼š
```bash
npm run build:mac
# åº”è¯¥æˆåŠŸç”Ÿæˆ release/EvoLabeler-*.dmg
```

---

## ğŸ“Š ä¿®æ”¹å†…å®¹æ€»ç»“

### 1. package.json
- âœ… æ·»åŠ  macOS å›¾æ ‡é…ç½®
- âœ… æ”¯æŒ x64 å’Œ arm64 æ¶æ„
- âœ… ä¼˜åŒ– asar æ‰“åŒ…é…ç½®
- âœ… æ·»åŠ æ–°çš„æ„å»ºè„šæœ¬

### 2. electron/main.ts
- âœ… ä¿®å¤æ‰“åŒ…åçš„è·¯å¾„å¤„ç†
- âœ… æ­£ç¡®å¤„ç† app.isPackaged çŠ¶æ€

### 3. build/entitlements.mac.plist
- âœ… æ·»åŠ ç½‘ç»œè®¿é—®æƒé™
- âœ… æ·»åŠ æ–‡ä»¶è®¿é—®æƒé™
- âœ… æ·»åŠ å¿…è¦çš„å®‰å…¨é…ç½®

### 4. æ–°å¢è„šæœ¬
- âœ… create-icons.sh - è‡ªåŠ¨ç”Ÿæˆå›¾æ ‡
- âœ… build-app.sh - ä¸€é”®æ„å»ºåº”ç”¨

---

## ğŸ‰ ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼

1. **å¼€å‘æ¨¡å¼**: `npm run electron:dev`
2. **æ„å»ºåº”ç”¨**: `npm run build:mac` æˆ– `./scripts/build-app.sh`
3. **å®‰è£…ä½¿ç”¨**: æ‰“å¼€ release æ–‡ä»¶å¤¹ä¸­çš„ .dmg æ–‡ä»¶

---

## ğŸ’¡ é¢å¤–æç¤º

### Apple Silicon (M1/M2/M3) ç”¨æˆ·
æ„å»ºè„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ä½ çš„ Mac æ¶æ„å¹¶æ„å»ºå¯¹åº”ç‰ˆæœ¬ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

### Intel Mac ç”¨æˆ·
åŒæ ·é€‚ç”¨ï¼Œè‡ªåŠ¨æ„å»º x64 ç‰ˆæœ¬ã€‚

### é€šç”¨ç‰ˆæœ¬
å¦‚æœéœ€è¦æ„å»ºåŒæ—¶æ”¯æŒä¸¤ç§æ¶æ„çš„ç‰ˆæœ¬ï¼š
```bash
npx electron-builder --mac --x64 --arm64
```

---

**é—®é¢˜è§£å†³äº†ï¼** âœ…

å¦‚æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ `BUILD_GUIDE.md` æˆ–è”ç³»å¼€å‘è€…ã€‚

